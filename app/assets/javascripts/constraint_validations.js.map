{"version":3,"file":"constraint_validations.js","sources":["../../javascript/constraint_validations/util.js","../../javascript/constraint_validations/validators/checkbox_validator.js","../../javascript/constraint_validations/index.js"],"sourcesContent":["export function isFieldElement(element) {\n  return !element.disabled && \"validity\" in element && element.willValidate\n}\n\nexport function readValidationMessages(input) {\n  try {\n    return JSON.parse(input.getAttribute(\"data-validation-messages\")) || {}\n  } catch(_) {\n    return {}\n  }\n}\n","import { isFieldElement, readValidationMessages } from \"../util\"\n\nexport default class {\n  ignoringMutations = false\n\n  constructor(constraintValidations, predicate) {\n    this.constraintValidations = constraintValidations\n    this.mutationObserver = new MutationObserver(this.handleMutation)\n    this.enabled = typeof predicate === \"function\" ?\n      predicate :\n      (group) => !!predicate\n  }\n\n  connect() {\n    this.mutationObserver.observe(this.element, {\n      attributeFilter: [\"required\"],\n      childList: true,\n      subtree: true\n    })\n    this.overrideNodes(this.element.querySelectorAll(\"input[type=checkbox][required]\"))\n  }\n\n  disconnect() {\n    this.mutationObserver.disconnect()\n  }\n\n  willValidate(target) {\n    return this.willValidateGroup(checkboxGroup(target))\n  }\n\n  willValidateGroup(group) {\n    return group.length > 0 && this.enabled(group)\n  }\n\n  validate(target) {\n    const checkboxesInGroup = checkboxGroup(target).filter(isFieldElement)\n    const allRequired = checkboxesInGroup.every((checkbox) => checkbox.getAttribute(\"aria-required\") === \"true\")\n    const someChecked = checkboxesInGroup.some((checkbox) => checkbox.checked)\n\n    if (allRequired && someChecked) {\n      for (const checkbox of checkboxesInGroup) {\n        this.constraintValidations.clearValidity(checkbox)\n      }\n    } else if (allRequired) {\n      for (const checkbox of checkboxesInGroup) {\n        const validationMessages = readValidationMessages(checkbox)\n\n        checkbox.setCustomValidity(validationMessages.valueMissing)\n        this.constraintValidations.reportValidity(checkbox)\n      }\n    }\n  }\n\n  handleMutation = (mutationRecords) => {\n    if (this.ignoringMutations) return\n\n    for (const { addedNodes, target, type } of mutationRecords) {\n      if (type === \"attributes\") {\n        if (target.required) {\n          this.swapRequiredWithAriaRequired(target)\n        } else {\n          target.removeAttribute(\"aria-required\")\n        }\n      } else if (addedNodes.length) {\n        this.overrideNodes(addedNodes)\n      }\n    }\n  }\n\n  overrideNodes(nodes) {\n    const requiredCheckboxes = querySelectorAllNodes(\"input[type=checkbox][required]\", nodes)\n\n    for (const checkbox of requiredCheckboxes) {\n      if (checkbox.required) {\n        const group = checkboxGroup(checkbox)\n\n        if (this.willValidateGroup(group)) {\n          for (const checkboxInGroup of group) {\n            this.swapRequiredWithAriaRequired(checkboxInGroup)\n            this.validate(checkboxInGroup)\n          }\n        }\n      }\n    }\n  }\n\n  swapRequiredWithAriaRequired(element) {\n    this.ignoringMutations = true\n    element.required = false\n    element.setAttribute(\"aria-required\", \"true\")\n    setTimeout(() => this.ignoringMutations = false, 0)\n  }\n\n  get element() {\n    return this.constraintValidations.element\n  }\n}\n\nfunction checkboxGroup(formControl) {\n  const results = new Set\n  const { name, form } = formControl\n\n  if (name && form instanceof HTMLFormElement) {\n    const group = form.elements.namedItem(name)\n    const elements = Symbol.iterator in group ?\n      group :\n      [group]\n\n    for (const element of elements) {\n      if (element.type === \"checkbox\") {\n        results.add(element)\n      }\n    }\n\n    if (results.size === 1 && results.has(formControl)) {\n      results.clear()\n    }\n  }\n\n  return Array.from(results)\n}\n\nfunction querySelectorAllNodes(selector, nodes, elements = new Set) {\n  for (const node of nodes) {\n    if (node instanceof Element) {\n      if (node.matches(selector)) {\n        elements.add(node)\n      }\n\n      elements.add(...querySelectorAllNodes(selector, node.children, elements))\n    }\n  }\n\n  return Array.from(elements)\n}\n","import { isFieldElement, readValidationMessages } from \"./util\"\nimport CheckboxValidator from \"./validators/checkbox_validator\"\n\nconst defaultOptions = {\n  disableSubmitWhenInvalid: false,\n  validateOn: [\"blur\", \"input\"],\n  validators: {\n    checkbox: false\n  }\n}\n\nexport default class ConstraintValidations {\n  static connect(element = document, options = {}) {\n    new this(element, options).connect()\n  }\n\n  constructor(element = document, options = {}) {\n    this.element = element\n    this.options = { ...defaultOptions, ...options }\n    this.validators = [\n      new CheckboxValidator(this, this.options.validators.checkbox)\n    ]\n  }\n\n  connect() {\n    this.validators.forEach(validator => validator.connect())\n    this.element.addEventListener(\"invalid\", this.reportFieldValidity, { capture: true, passive: false })\n\n    for (const eventName of this.options.validateOn) {\n      this.element.addEventListener(eventName, this.clearAndReportFieldValidity, { capture: true, passive: true })\n    }\n\n    this.element.addEventListener(\"input\", this.toggleSubmitsDisabled)\n\n    this.reportValidationMessages(\n      this.element instanceof HTMLFormElement ?\n        [this.element] :\n        Array.from(this.element.querySelectorAll(\"form\"))\n    )\n  }\n\n  disconnect() {\n    this.element.removeEventListener(\"invalid\", this.reportFieldValidity, { capture: true, passive: false })\n\n    for (const eventName of this.options.validateOn) {\n      this.element.removeEventListener(eventName, this.clearAndReportFieldValidity, { capture: true, passive: true })\n    }\n\n    this.element.removeEventListener(\"input\", this.toggleSubmitsDisabled)\n    this.validators.forEach(validator => validator.disconnect())\n  }\n\n  reportFieldValidity = (event) => {\n    if (isFieldElement(event.target) && this.reportValidity(event.target)) {\n      event.preventDefault()\n\n      focusFirstInvalidField(event.target.form || event.target)\n    }\n  }\n\n  clearAndReportFieldValidity = ({ target }) => {\n    const validator = this.validators.find(validator => validator.willValidate(target))\n\n    if (validator) {\n      validator.validate(target)\n    } else if (isFieldElement(target)) {\n      this.clearValidity(target)\n      this.reportValidity(target)\n    }\n  }\n\n  toggleSubmitsDisabled = ({ target }) => {\n    if (isFieldElement(target) && this.willDisableSubmitWhenInvalid(target)) {\n      disableSubmitWhenInvalid(target.form)\n    }\n  }\n\n  reportValidationMessages(forms) {\n    const invalidFields = []\n\n    for (const form of forms) {\n      for (const element of Array.from(form.elements).filter(isFieldElement)) {\n        const serverRenderedInvalid = /true/i.test(element.getAttribute(\"aria-invalid\"))\n        const id = element.getAttribute(\"aria-errormessage\")\n        const errorMessageElement = document.getElementById(id)\n        const validationMessage = errorMessageElement?.textContent\n\n        if (validationMessage) {\n          element.setCustomValidity(validationMessage)\n        }\n\n        if (validationMessage || serverRenderedInvalid) {\n          this.reportValidity(element)\n          invalidFields.push(element)\n        }\n\n        if (this.willDisableSubmitWhenInvalid(element)) {\n          disableSubmitWhenInvalid(form)\n        }\n      }\n    }\n\n    const [firstInvalidField] = invalidFields\n    firstInvalidField?.focus()\n  }\n\n  willDisableSubmitWhenInvalid(target) {\n    return typeof this.options.disableSubmitWhenInvalid === \"function\" ?\n      this.options.disableSubmitWhenInvalid(target) :\n      !!this.options.disableSubmitWhenInvalid\n  }\n\n  clearValidity(input) {\n    input.setCustomValidity(\"\")\n\n    this.reportValidity(input)\n  }\n\n  reportValidity(input) {\n    const id = input.getAttribute(\"aria-errormessage\")\n    const validationMessage = getValidationMessage(input)\n    const element = document.getElementById(id) || createValidationMessageFragment(input.form)\n\n    if (input.form?.noValidate) {\n      return false\n    } else if (id && element) {\n      element.id = id\n      element.innerHTML = validationMessage\n\n      if (validationMessage) {\n        input.setCustomValidity(validationMessage)\n        input.setAttribute(\"aria-describedby\", id)\n        input.setAttribute(\"aria-invalid\", \"true\")\n      } else {\n        input.removeAttribute(\"aria-describedby\")\n        input.removeAttribute(\"aria-invalid\")\n      }\n\n      if (!element.parentElement) {\n        input.insertAdjacentElement(\"afterend\", element)\n      }\n\n      if (input.form && this.willDisableSubmitWhenInvalid(input)) disableSubmitWhenInvalid(input.form)\n\n      return true\n    } else {\n      return false\n    }\n  }\n}\n\nfunction focusFirstInvalidField(element) {\n  if (element instanceof HTMLFormElement) {\n    return Array.from(element.elements).some(field => focusFirstInvalidField(field))\n  } else if (isFieldElement(element) && !element.validity.valid) {\n    element.focus()\n    element.scrollIntoView()\n    return true\n  } else {\n    return false\n  }\n}\n\nfunction disableSubmitWhenInvalid(form) {\n  if (!form || form.noValidate) return\n\n  const isValid = Array.from(form.elements).filter(isFieldElement).every(input => input.validity.valid)\n\n  for (const element of form.elements) {\n    if (element.type == \"submit\" && !element.formNoValidate) {\n      element.disabled = !isValid\n    }\n  }\n}\n\nfunction createValidationMessageFragment(form) {\n  if (form) {\n    const template = form.querySelector(\"[data-validation-message-template]\")\n\n    return template?.content.children[0].cloneNode()\n  }\n}\n\nfunction getValidationMessage(input) {\n  const validationMessages = Object.entries(readValidationMessages(input))\n\n  const [ _, validationMessage ] = validationMessages.find(([ key ]) => input.validity[key]) || [ null, null ]\n\n  return validationMessage || input.validationMessage\n}\n"],"names":["isFieldElement","element","disabled","willValidate","readValidationMessages","input","JSON","parse","getAttribute","_","[object Object]","constraintValidations","predicate","this","mutationObserver","MutationObserver","handleMutation","enabled","group","observe","attributeFilter","childList","subtree","overrideNodes","querySelectorAll","disconnect","target","willValidateGroup","checkboxGroup","length","checkboxesInGroup","filter","allRequired","every","checkbox","someChecked","some","checked","clearValidity","validationMessages","setCustomValidity","valueMissing","reportValidity","mutationRecords","ignoringMutations","addedNodes","type","required","swapRequiredWithAriaRequired","removeAttribute","nodes","requiredCheckboxes","querySelectorAllNodes","checkboxInGroup","validate","setAttribute","setTimeout","formControl","results","Set","name","form","HTMLFormElement","elements","namedItem","Symbol","iterator","add","size","has","clear","Array","from","selector","node","Element","matches","children","defaultOptions","disableSubmitWhenInvalid","validateOn","validators","ConstraintValidations","document","options","connect","CheckboxValidator","forEach","validator","addEventListener","reportFieldValidity","capture","passive","eventName","clearAndReportFieldValidity","toggleSubmitsDisabled","reportValidationMessages","removeEventListener","event","preventDefault","focusFirstInvalidField","find","willDisableSubmitWhenInvalid","forms","invalidFields","serverRenderedInvalid","test","id","errorMessageElement","getElementById","validationMessage","textContent","push","firstInvalidField","focus","getValidationMessage","createValidationMessageFragment","noValidate","innerHTML","parentElement","insertAdjacentElement","field","validity","valid","scrollIntoView","isValid","formNoValidate","template","querySelector","content","cloneNode","Object","entries","key"],"mappings":"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"}
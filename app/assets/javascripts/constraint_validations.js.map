{"version":3,"file":"constraint_validations.js","sources":["../../javascript/constraint_validations/util.js","../../javascript/constraint_validations/validators/checkbox_validator.js","../../javascript/constraint_validations/index.js"],"sourcesContent":["export function isFieldElement(element) {\n  return !element.disabled && \"validity\" in element && element.willValidate\n}\n\nexport function readValidationMessages(input) {\n  try {\n    return JSON.parse(input.getAttribute(\"data-validation-messages\")) || {}\n  } catch(_) {\n    return {}\n  }\n}\n","import { isFieldElement, readValidationMessages } from \"../util\"\n\nexport default class {\n  selector = \"input[type=checkbox]:required\"\n  ignoringMutations = false\n\n  constructor(constraintValidations, predicate) {\n    this.constraintValidations = constraintValidations\n    this.mutationObserver = new MutationObserver(this.handleMutation)\n    this.enabled = typeof predicate === \"function\" ?\n      predicate :\n      (group) => !!predicate\n  }\n\n  connect() {\n    this.mutationObserver.observe(this.element, {\n      attributeFilter: [\"required\"],\n      childList: true,\n      subtree: true\n    })\n    this.reportValidationMessages(this.element.querySelectorAll(this.selector))\n  }\n\n  disconnect() {\n    this.mutationObserver.disconnect()\n  }\n\n  willValidate(target) {\n    return this.willValidateGroup(checkboxGroup(target))\n  }\n\n  validate(target) {\n    const checkboxesInGroup = checkboxGroup(target).filter(isFieldElement)\n    const allRequired = checkboxesInGroup.every((checkbox) => checkbox.getAttribute(\"aria-required\") === \"true\")\n    const someChecked = checkboxesInGroup.some((checkbox) => checkbox.checked)\n\n    if (allRequired && someChecked) {\n      for (const checkbox of checkboxesInGroup) {\n        this.constraintValidations.clearValidity(checkbox)\n      }\n    } else if (allRequired) {\n      for (const checkbox of checkboxesInGroup) {\n        const validationMessages = readValidationMessages(checkbox)\n\n        checkbox.setCustomValidity(validationMessages.valueMissing)\n        this.constraintValidations.reportValidity(checkbox)\n      }\n    }\n  }\n\n  // Private\n\n  handleMutation = (mutationRecords) => {\n    if (this.ignoringMutations) return\n\n    for (const { addedNodes, target, type } of mutationRecords) {\n      if (type === \"attributes\") {\n        if (target.required) {\n          this.swapRequiredWithAriaRequired(target)\n        } else {\n          target.removeAttribute(\"aria-required\")\n        }\n      } else if (addedNodes.length) {\n        this.reportValidationMessages(addedNodes)\n      }\n    }\n  }\n\n  reportValidationMessages(nodes) {\n    const requiredCheckboxes = querySelectorAllNodes(this.selector, nodes)\n\n    for (const checkbox of requiredCheckboxes) {\n      if (checkbox.required) {\n        const group = checkboxGroup(checkbox)\n\n        if (this.willValidateGroup(group)) {\n          for (const checkboxInGroup of group) {\n            this.swapRequiredWithAriaRequired(checkboxInGroup)\n            if (checkboxInGroup.getAttribute(\"aria-invalid\") === \"true\") {\n              this.validate(checkboxInGroup)\n            }\n          }\n        }\n      }\n    }\n  }\n\n  swapRequiredWithAriaRequired(element) {\n    this.ignoringMutations = true\n    element.required = false\n    element.setAttribute(\"aria-required\", \"true\")\n    setTimeout(() => this.ignoringMutations = false, 0)\n  }\n\n  willValidateGroup(group) {\n    return group.length > 0 && this.enabled(group)\n  }\n\n  get element() {\n    return this.constraintValidations.element\n  }\n}\n\nfunction checkboxGroup(formControl) {\n  const results = new Set\n  const { name, form } = formControl\n\n  if (name && form instanceof HTMLFormElement) {\n    const group = form.elements.namedItem(name)\n    const elements = Symbol.iterator in group ?\n      group :\n      [group]\n\n    for (const element of elements) {\n      if (element.type === \"checkbox\") {\n        results.add(element)\n      }\n    }\n\n    if (results.size === 1 && results.has(formControl)) {\n      results.clear()\n    }\n  }\n\n  return Array.from(results)\n}\n\nfunction querySelectorAllNodes(selector, nodes, elements = new Set) {\n  for (const node of nodes) {\n    if (node instanceof Element) {\n      if (node.matches(selector)) {\n        elements.add(node)\n      }\n\n      elements.add(...querySelectorAllNodes(selector, node.children, elements))\n    }\n  }\n\n  return Array.from(elements)\n}\n","import { isFieldElement, readValidationMessages } from \"./util\"\nimport CheckboxValidator from \"./validators/checkbox_validator\"\n\nconst defaultOptions = {\n  disableSubmitWhenInvalid: false,\n  validateOn: [\"blur\", \"input\"],\n  validators: {\n    checkbox: false\n  }\n}\n\nexport default class ConstraintValidations {\n  static connect(element = document, options = {}) {\n    new this(element, options).connect()\n  }\n\n  constructor(element = document, options = {}) {\n    this.element = element\n    this.options = { ...defaultOptions, ...options }\n    this.validators = [\n      new CheckboxValidator(this, this.options.validators.checkbox)\n    ]\n  }\n\n  connect() {\n    this.validators.forEach(validator => validator.connect())\n    this.element.addEventListener(\"invalid\", this.reportFieldValidity, { capture: true, passive: false })\n\n    for (const eventName of this.options.validateOn) {\n      this.element.addEventListener(eventName, this.clearAndReportFieldValidity, { capture: true, passive: true })\n    }\n\n    this.element.addEventListener(\"input\", this.toggleSubmitsDisabled)\n\n    this.reportValidationMessages(\n      this.element instanceof HTMLFormElement ?\n        [this.element] :\n        this.element.querySelectorAll(\"form\")\n    )\n  }\n\n  disconnect() {\n    this.element.removeEventListener(\"invalid\", this.reportFieldValidity, { capture: true, passive: false })\n\n    for (const eventName of this.options.validateOn) {\n      this.element.removeEventListener(eventName, this.clearAndReportFieldValidity, { capture: true, passive: true })\n    }\n\n    this.element.removeEventListener(\"input\", this.toggleSubmitsDisabled)\n    this.validators.forEach(validator => validator.disconnect())\n  }\n\n  reportFieldValidity = (event) => {\n    if (isFieldElement(event.target) && this.reportValidity(event.target)) {\n      event.preventDefault()\n\n      focusFirstInvalidField(event.target.form || event.target)\n    }\n  }\n\n  clearAndReportFieldValidity = ({ target }) => {\n    if (isFieldElement(target)) {\n      this.clearValidity(target)\n\n      for (const validator of this.validators) {\n        if (validator.willValidate(target)) {\n          validator.validate(target)\n        }\n      }\n\n      this.reportValidity(target)\n    }\n  }\n\n  toggleSubmitsDisabled = ({ target }) => {\n    if (isFieldElement(target) && this.willDisableSubmitWhenInvalid(target)) {\n      disableSubmitWhenInvalid(target.form)\n    }\n  }\n\n  reportValidationMessages(forms) {\n    const invalidFields = []\n\n    for (const form of forms) {\n      for (const element of Array.from(form.elements).filter(isFieldElement)) {\n        const serverRenderedInvalid = /true/i.test(element.getAttribute(\"aria-invalid\"))\n        const id = element.getAttribute(\"aria-errormessage\")\n        const errorMessageElement = document.getElementById(id)\n        const validationMessage = errorMessageElement?.textContent\n\n        if (validationMessage) {\n          element.setCustomValidity(validationMessage)\n        }\n\n        if (validationMessage || serverRenderedInvalid) {\n          this.reportValidity(element)\n          invalidFields.push(element)\n        }\n\n        if (this.willDisableSubmitWhenInvalid(element)) {\n          disableSubmitWhenInvalid(form)\n        }\n      }\n    }\n\n    const [firstInvalidField] = invalidFields\n    firstInvalidField?.focus()\n  }\n\n  willDisableSubmitWhenInvalid(target) {\n    return typeof this.options.disableSubmitWhenInvalid === \"function\" ?\n      this.options.disableSubmitWhenInvalid(target) :\n      !!this.options.disableSubmitWhenInvalid\n  }\n\n  clearValidity(input) {\n    input.setCustomValidity(\"\")\n\n    this.reportValidity(input)\n  }\n\n  reportValidity(input) {\n    const id = input.getAttribute(\"aria-errormessage\")\n    const validationMessage = getValidationMessage(input)\n    const element = document.getElementById(id) || createValidationMessageFragment(input.form)\n\n    if (input.form?.noValidate) {\n      return false\n    } else if (id && element) {\n      element.id = id\n      element.innerHTML = validationMessage\n\n      if (validationMessage) {\n        input.setCustomValidity(validationMessage)\n        input.setAttribute(\"aria-describedby\", id)\n        input.setAttribute(\"aria-invalid\", \"true\")\n      } else {\n        input.removeAttribute(\"aria-describedby\")\n        input.removeAttribute(\"aria-invalid\")\n      }\n\n      if (!element.parentElement) {\n        input.insertAdjacentElement(\"afterend\", element)\n      }\n\n      if (input.form && this.willDisableSubmitWhenInvalid(input)) disableSubmitWhenInvalid(input.form)\n\n      return true\n    } else {\n      return false\n    }\n  }\n}\n\nfunction focusFirstInvalidField(element) {\n  if (element instanceof HTMLFormElement) {\n    return Array.from(element.elements).some(field => focusFirstInvalidField(field))\n  } else if (isFieldElement(element) && !element.validity.valid) {\n    element.focus()\n    element.scrollIntoView()\n    return true\n  } else {\n    return false\n  }\n}\n\nfunction disableSubmitWhenInvalid(form) {\n  if (!form || form.noValidate) return\n\n  const isValid = Array.from(form.elements).filter(isFieldElement).every(input => input.validity.valid)\n\n  for (const element of form.elements) {\n    if (element.type == \"submit\" && !element.formNoValidate) {\n      element.disabled = !isValid\n    }\n  }\n}\n\nfunction createValidationMessageFragment(form) {\n  if (form) {\n    const template = form.querySelector(\"[data-validation-message-template]\")\n\n    return template?.content.children[0].cloneNode()\n  }\n}\n\nfunction getValidationMessage(input) {\n  const validationMessages = Object.entries(readValidationMessages(input))\n\n  const [ _, validationMessage ] = validationMessages.find(([ key ]) => input.validity[key]) || [ null, null ]\n\n  return validationMessage || input.validationMessage\n}\n"],"names":["isFieldElement","element","disabled","willValidate","readValidationMessages","input","JSON","parse","getAttribute","_","[object Object]","constraintValidations","predicate","this","mutationObserver","MutationObserver","handleMutation","enabled","group","observe","attributeFilter","childList","subtree","reportValidationMessages","querySelectorAll","selector","disconnect","target","willValidateGroup","checkboxGroup","checkboxesInGroup","filter","allRequired","every","checkbox","someChecked","some","checked","clearValidity","validationMessages","setCustomValidity","valueMissing","reportValidity","mutationRecords","ignoringMutations","addedNodes","type","required","swapRequiredWithAriaRequired","removeAttribute","length","nodes","requiredCheckboxes","querySelectorAllNodes","checkboxInGroup","validate","setAttribute","setTimeout","formControl","results","Set","name","form","HTMLFormElement","elements","namedItem","Symbol","iterator","add","size","has","clear","Array","from","node","Element","matches","children","defaultOptions","disableSubmitWhenInvalid","validateOn","validators","ConstraintValidations","document","options","connect","CheckboxValidator","forEach","validator","addEventListener","reportFieldValidity","capture","passive","eventName","clearAndReportFieldValidity","toggleSubmitsDisabled","removeEventListener","event","preventDefault","focusFirstInvalidField","willDisableSubmitWhenInvalid","forms","invalidFields","serverRenderedInvalid","test","id","errorMessageElement","getElementById","validationMessage","textContent","push","firstInvalidField","focus","getValidationMessage","createValidationMessageFragment","noValidate","innerHTML","parentElement","insertAdjacentElement","field","validity","valid","scrollIntoView","isValid","formNoValidate","template","querySelector","content","cloneNode","Object","entries","find","key"],"mappings":"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"}